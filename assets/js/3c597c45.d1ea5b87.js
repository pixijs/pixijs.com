"use strict";(self.webpackChunkpixi_docusaurus=self.webpackChunkpixi_docusaurus||[]).push([["8130"],{53938:function(e,i,n){n.r(i),n.d(i,{frontMatter:()=>o,default:()=>u,toc:()=>c,metadata:()=>r,assets:()=>d,contentTitle:()=>a});var r=JSON.parse('{"id":"guides/migrations/v6","title":"v6 Migration Guide","description":"PixiJS v6 Migration Guide - Transitioning from PixiJS v5 to v6","source":"@site/docs/guides/migrations/v6.md","sourceDirName":"guides/migrations","slug":"/guides/migrations/v6","permalink":"/8.x/guides/migrations/v6","draft":false,"unlisted":false,"editUrl":"https://github.com/pixijs/pixijs.com/tree/main/docs/guides/migrations/v6.md","tags":[],"version":"current","sidebarPosition":-1,"frontMatter":{"sidebar_position":-1,"description":"PixiJS v6 Migration Guide - Transitioning from PixiJS v5 to v6"},"sidebar":"guidesSidebar","previous":{"title":"v7 Migration Guide","permalink":"/8.x/guides/migrations/v7"},"next":{"title":"v5 Migration Guide","permalink":"/8.x/guides/migrations/v5"}}'),t=n(85893),s=n(50065);let o={sidebar_position:-1,description:"PixiJS v6 Migration Guide - Transitioning from PixiJS v5 to v6"},a="v6 Migration Guide",d={},c=[{value:"Typings",id:"typings",level:2},{value:"Mesh Internals",id:"mesh-internals",level:2}];function l(e){let i={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"v6-migration-guide",children:"v6 Migration Guide"})}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.a,{href:"https://github.com/pixijs/pixi.js/releases/tag/v6.0.0",children:"PixiJS 6"})," comes with few surface-level breaking changes. This document is ",(0,t.jsx)(i.strong,{children:"not complete"}),"."]}),"\n",(0,t.jsx)(i.h2,{id:"typings",children:"Typings"}),"\n",(0,t.jsxs)(i.p,{children:["If you're using TypeScript, make sure the follow is added to your ",(0,t.jsx)(i.strong,{children:"tsconfig.json"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-js",children:'{\n  "compilerOptions": {\n    "moduleResolution": "node",\n    // Required for importing 3rd-party dependencies like EventEmitter3\n    "esModuleInterop": true\n  }\n}\n'})}),"\n",(0,t.jsx)(i.h2,{id:"mesh-internals",children:"Mesh Internals"}),"\n",(0,t.jsxs)(i.p,{children:["If you ever overrode ",(0,t.jsx)(i.code,{children:"Mesh._renderDefault"})," to take into account more uniforms like this: ",(0,t.jsx)(i.a,{href:"https://github.com/pixijs/pixi.js/blob/b05fb9c4b31efda244d40b680f6abf304c9daec3/packages/mesh/src/Mesh.ts#L314-L317",children:"v5 Reference"})]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-typescript",children:"if (shader.program.uniformData.translationMatrix) {\n  shader.uniforms.translationMatrix = this.transform.worldTransform.toArray(true);\n}\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Remove the if, leave the contents, otherwise you might not get correct sync uniform for ",(0,t.jsx)(i.code,{children:"translationMatrix"}),", or even worse - get null pointer. ",(0,t.jsx)(i.a,{href:"https://github.com/pixijs/pixi.js/blob/2a4bb1f2b015bd557d9c037d8886f68a467cf40d/packages/mesh/src/Mesh.ts#L318",children:"v6 Reference"}),"."]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-typescript",children:"shader.uniforms.translationMatrix = this.transform.worldTransform.toArray(true);\n"})})]})}function u(e={}){let{wrapper:i}={...(0,s.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},50065:function(e,i,n){n.d(i,{Z:()=>a,a:()=>o});var r=n(67294);let t={},s=r.createContext(t);function o(e){let i=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);